# v0.5.0 Insights Mode - Summary

**Completed:** 2026-02-03

## Overview

Added Insights Mode - a statistics dashboard showing author contributions, file churn, and a GitHub-style activity heatmap. Toggle with `i` key, all filters apply to both graph and insights views.

## Phases Completed

### Phase 1: Stats Computation
- `internal/tui/insights/stats.go` (149 LOC + 285 LOC tests)
- `AuthorStats` and `FileStats` structs
- `ComputeAuthorStats()` - aggregates by author email, sorts by commit count
- `ComputeFileStats()` - aggregates file changes, sorts by change count
- `ComputeSummary()` - total commits, authors, date range

### Phase 2: Heatmap Data
- `internal/tui/insights/heatmap.go` (203 LOC + 357 LOC tests)
- `DayCell` and `CalendarData` structs
- `ComputeCalendarData()` - daily bucketing with heat levels (0-4)
- Configurable week start (Monday/Sunday)
- Percentile-based heat level calculation

### Phase 3: Insights Model & Styles
- `internal/tui/insights/insights.go` (104 LOC + 143 LOC tests)
- `InsightsView` model holding all computed data
- `Recalculate()` orchestrates all computations
- `internal/tui/insights/styles.go` - heat colors, stat table styles

### Phase 4: Stats Rendering
- `internal/tui/insights/render_stats.go` (153 LOC + 251 LOC tests)
- Top Authors section with commit counts and percentages
- Most Changed Files section with change counts
- Truncation and alignment helpers

### Phase 5: Heatmap Rendering & Layout
- `internal/tui/insights/render_heatmap.go` (121 LOC)
- `internal/tui/insights/render.go` (261 LOC)
- Calendar grid with colored blocks (â–ˆ)
- Month labels and weekday indicators
- Responsive layout: side-by-side (>=100 cols) or stacked

### Phase 6: App Integration
- `internal/tui/app.go` modifications (~180 LOC)
- `i` key toggles between graph and insights views
- Same keybindings work in both views (filters, histogram, etc.)
- Async loading with 20 parallel workers
- 200 commit limit for file changes (performance)
- Loading spinner in header during refresh

## Files Created/Modified

**New files:**
- `internal/tui/insights/stats.go`
- `internal/tui/insights/stats_test.go`
- `internal/tui/insights/heatmap.go`
- `internal/tui/insights/heatmap_test.go`
- `internal/tui/insights/insights.go`
- `internal/tui/insights/insights_test.go`
- `internal/tui/insights/styles.go`
- `internal/tui/insights/styles_test.go`
- `internal/tui/insights/render.go`
- `internal/tui/insights/render_stats.go`
- `internal/tui/insights/render_stats_test.go`
- `internal/tui/insights/render_heatmap.go`

**Modified files:**
- `internal/tui/app.go`
- `internal/tui/layout.go`
- `internal/tui/messages.go`
- `internal/tui/styles.go`

## Total LOC
- Implementation: ~1,200 LOC
- Tests: ~1,000 LOC
